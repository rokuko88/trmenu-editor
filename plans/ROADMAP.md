# TrMenu Editor 开发路线图

## 项目概述

TrMenu Editor 是一个可视化编辑器，用于创建和编辑 Minecraft TrMenu 插件的菜单配置。通过模拟我的世界箱子界面，让用户能够直观地设计菜单布局和配置。

---

## 功能列表

### 1. 核心菜单系统

- [ ] **箱子菜单 GUI 模拟**
  - [ ] 支持不同尺寸的箱子菜单（9/18/27/36/45/54 格子）
  - [ ] 可视化网格布局
  - [ ] 拖拽放置物品到格子中
  - [ ] 格子选择和高亮显示
  - [ ] 多菜单管理（创建、删除、切换）

### 2. 物品系统

- [ ] **物品贴图资源**
  - [ ] 我的世界物品图标库集成
  - [ ] 支持自定义物品贴图上传
  - [ ] 物品搜索和过滤功能
  - [ ] 物品分类浏览（方块、工具、食物等）
- [ ] **物品属性编辑**
  - [ ] DisplayName（显示名称）编辑
  - [ ] Lore（描述信息）多行编辑
  - [ ] 支持 Minecraft 颜色代码（§ 符号）
  - [ ] 物品数量设置
  - [ ] 物品材质（Material）选择
  - [ ] CustomModelData 支持
  - [ ] 附魔效果显示

### 3. 悬浮提示系统

- [ ] **物品悬浮预览**
  - [ ] 鼠标悬停显示物品详细信息
  - [ ] DisplayName 渲染（带颜色）
  - [ ] Lore 渲染（多行，带颜色）
  - [ ] 模拟我的世界原版样式

### 4. TrMenu 配置系统

- [ ] **基础菜单配置**
  - [ ] 菜单标题设置
  - [ ] 菜单大小配置
  - [ ] 菜单类型选择（CHEST/HOPPER/DISPENSER 等）
- [ ] **物品交互配置**
  - [ ] 点击动作（左键/右键/Shift+点击）
  - [ ] 执行命令配置
  - [ ] 打开子菜单配置
  - [ ] 关闭菜单操作
  - [ ] 条件判断配置
  - [ ] 变量和占位符支持
- [ ] **高级功能**
  - [ ] 动态物品配置
  - [ ] 刷新间隔设置
  - [ ] 打开/关闭动作
  - [ ] 优先级设置
  - [ ] 权限要求配置

### 5. 配置文件管理

- [ ] **导入/导出**
  - [ ] 导入现有 TrMenu YAML 配置
  - [ ] 导出为 TrMenu YAML 格式
  - [ ] 配置文件验证
  - [ ] 错误提示和修复建议
- [ ] **模板系统**
  - [ ] 预置菜单模板（商店、传送、信息等）
  - [ ] 自定义模板保存
  - [ ] 模板导入导出

### 6. 用户界面

- [ ] **编辑器界面**
  - [ ] 左侧：物品库面板
  - [ ] 中央：菜单编辑区域
  - [ ] 右侧：属性配置面板
  - [ ] 顶部：工具栏（新建、保存、导入、导出等）
- [ ] **辅助功能**
  - [ ] 撤销/重做功能
  - [ ] 快捷键支持
  - [ ] 网格辅助线
  - [ ] 实时预览
  - [ ] 深色/浅色主题

---

## 开发路线

### 第一阶段：基础框架（Phase 1）

**目标**: 搭建项目基础架构和核心 UI 框架

- [x] 初始化 Next.js 项目
- [ ] 设计整体布局结构
  - [ ] 三栏布局（物品库、编辑区、配置面板）
  - [ ] 响应式设计
- [ ] 实现箱子菜单网格组件
  - [ ] 54 格（6 行 9 列）箱子界面
  - [ ] 格子渲染和基础样式
- [ ] 搭建数据管理架构
  - [ ] 菜单状态管理（Redux/Zustand）
  - [ ] 类型定义（TypeScript interfaces）

**预计时间**: 1-2 周

---

### 第二阶段：物品系统（Phase 2）

**目标**: 实现物品展示和基础编辑功能

- [ ] 集成 Minecraft 物品图标资源
  - [ ] 物品图标资源收集/整理
  - [ ] 建立物品数据库（JSON）
- [ ] 实现物品库面板
  - [ ] 物品列表展示
  - [ ] 搜索和过滤功能
  - [ ] 分类导航
- [ ] 拖拽功能
  - [ ] 从物品库拖拽到网格
  - [ ] 网格内物品移动
  - [ ] 删除物品功能
- [ ] 物品渲染
  - [ ] 在网格中显示物品图标
  - [ ] 物品堆叠数量显示

**预计时间**: 2-3 周

---

### 第三阶段：物品属性编辑（Phase 3）

**目标**: 实现物品详细配置功能

- [ ] 属性配置面板
  - [ ] 选中物品时显示属性
  - [ ] 表单组件开发
- [ ] DisplayName 编辑
  - [ ] 文本输入框
  - [ ] 颜色代码支持（§ 符号）
  - [ ] 实时预览
- [ ] Lore 编辑
  - [ ] 多行文本编辑
  - [ ] 颜色代码支持
  - [ ] 行添加/删除/排序
- [ ] 基础物品属性
  - [ ] Material 选择器
  - [ ] 数量设置
  - [ ] CustomModelData 输入

**预计时间**: 2 周

---

### 第四阶段：悬浮提示系统（Phase 4）

**目标**: 实现类似我的世界的物品悬浮效果

- [ ] 悬浮提示组件
  - [ ] Tooltip 基础框架
  - [ ] 我的世界样式还原
- [ ] 内容渲染
  - [ ] DisplayName 渲染（带颜色）
  - [ ] Lore 多行渲染（带颜色）
  - [ ] Minecraft 颜色代码解析器
  - [ ] 字体样式模拟
- [ ] 交互优化
  - [ ] 鼠标跟随
  - [ ] 显示/隐藏动画
  - [ ] 位置智能调整（防止超出屏幕）

**预计时间**: 1-2 周

---

### 第五阶段：TrMenu 基础配置（Phase 5）

**目标**: 实现 TrMenu 核心配置功能

- [ ] 菜单全局配置
  - [ ] 菜单标题编辑
  - [ ] 菜单大小选择
  - [ ] 菜单类型选择
- [ ] 物品交互配置基础
  - [ ] 点击类型选择（左键/右键/Shift）
  - [ ] 动作类型选择（命令/打开菜单/关闭）
  - [ ] 简单命令配置
- [ ] 配置数据结构
  - [ ] TrMenu 配置对象模型
  - [ ] 配置序列化/反序列化

**预计时间**: 2 周

---

### 第六阶段：配置导入导出（Phase 6）

**目标**: 实现与 TrMenu YAML 配置的互操作

- [ ] YAML 解析
  - [ ] 导入 TrMenu YAML 文件
  - [ ] 解析为编辑器数据结构
  - [ ] 错误处理和提示
- [ ] YAML 生成
  - [ ] 将编辑器数据导出为 YAML
  - [ ] 格式化和美化
  - [ ] 注释保留（可选）
- [ ] 文件操作
  - [ ] 本地文件上传
  - [ ] 文件下载
  - [ ] 多文件管理

**预计时间**: 2 周

---

### 第七阶段：高级交互配置（Phase 7）

**目标**: 实现 TrMenu 高级功能配置

- [ ] 复杂动作配置
  - [ ] 多动作序列
  - [ ] 条件判断配置
  - [ ] 变量和占位符编辑器
- [ ] 动态物品
  - [ ] 刷新配置
  - [ ] 动态属性设置
- [ ] 高级选项
  - [ ] 优先级配置
  - [ ] 权限要求
  - [ ] 打开/关闭动作

**预计时间**: 2-3 周

---

### 第八阶段：模板系统（Phase 8）

**目标**: 提供预置模板和自定义模板功能

- [ ] 预置模板
  - [ ] 设计常用菜单模板（商店、传送菜单等）
  - [ ] 模板数据库
  - [ ] 模板预览功能
- [ ] 自定义模板
  - [ ] 保存当前菜单为模板
  - [ ] 模板管理（重命名、删除）
  - [ ] 模板导入/导出

**预计时间**: 1-2 周

---

### 第九阶段：用户体验优化（Phase 9）

**目标**: 提升编辑器易用性和稳定性

- [ ] 撤销/重做系统
  - [ ] 操作历史记录
  - [ ] 撤销/重做功能
  - [ ] 快捷键绑定（Ctrl+Z/Ctrl+Y）
- [ ] 快捷键系统
  - [ ] 复制/粘贴物品
  - [ ] 保存快捷键
  - [ ] 快捷键配置面板
- [ ] 视觉优化
  - [ ] 网格辅助线
  - [ ] 拖拽预览优化
  - [ ] 动画效果
- [ ] 主题系统
  - [ ] 深色主题
  - [ ] 浅色主题
  - [ ] 主题切换

**预计时间**: 2 周

---

### 第十阶段：测试与发布（Phase 10）

**目标**: 确保质量并发布正式版本

- [ ] 测试
  - [ ] 单元测试
  - [ ] 集成测试
  - [ ] 用户测试
  - [ ] Bug 修复
- [ ] 文档
  - [ ] 用户使用文档
  - [ ] 开发者文档
  - [ ] 示例和教程
- [ ] 部署
  - [ ] 生产环境配置
  - [ ] 性能优化
  - [ ] 发布 1.0 版本

**预计时间**: 2 周

---

## 技术栈

### 前端框架

- **Next.js 15** - React 框架
- **React 19** - UI 库
- **TypeScript** - 类型安全

### 状态管理

- **Zustand** 或 **Redux Toolkit** - 全局状态管理

### UI 组件

- **Tailwind CSS** - 样式框架
- **Radix UI** 或 **shadcn/ui** - 无头组件库
- **React DnD** 或 **dnd-kit** - 拖拽功能

### 数据处理

- **js-yaml** - YAML 解析和生成
- **zod** - 数据验证

### 其他工具

- **lucide-react** - 图标库
- **react-hot-toast** - 通知提示

---

## 里程碑

| 阶段     | 目标            | 预计完成时间 |
| -------- | --------------- | ------------ |
| Phase 1  | 基础框架搭建    | 第 2 周      |
| Phase 2  | 物品系统实现    | 第 5 周      |
| Phase 3  | 属性编辑功能    | 第 7 周      |
| Phase 4  | 悬浮提示系统    | 第 9 周      |
| Phase 5  | TrMenu 基础配置 | 第 11 周     |
| Phase 6  | 导入导出功能    | 第 13 周     |
| Phase 7  | 高级配置功能    | 第 16 周     |
| Phase 8  | 模板系统        | 第 18 周     |
| Phase 9  | 用户体验优化    | 第 20 周     |
| Phase 10 | 测试与发布      | 第 22 周     |

---

## 后续规划

### 未来可能的功能

- [ ] 多人协作编辑
- [ ] 云端配置存储
- [ ] 版本控制和历史记录
- [ ] 插件系统（支持自定义扩展）
- [ ] AI 辅助生成菜单
- [ ] 移动端适配
- [ ] 国际化支持（多语言）
- [ ] 与服务器实时同步
- [ ] 配置市场（分享和下载社区配置）

---

## 贡献指南

欢迎贡献代码！请查看 CONTRIBUTING.md 了解详细信息。

## 许可证

待定
